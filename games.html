<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Games — Love Kush Pranu</title>
  <meta name="description" content="Browser games by Love Kush Pranu — Packet Snake and Hex Breach." />
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400&family=Playfair+Display:ital,wght@0,700;0,900;1,700;1,900&family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet" />
</head>
<body>

  <div class="cursor" id="cursor"></div>
  <div class="cursor-ring" id="cursorRing"></div>

  <nav class="nav scrolled" id="nav">
    <a href="index.html" class="nav-logo">Love Kush Pranu</a>
    <ul class="nav-links">
      <li><a href="index.html#about">ABOUT</a></li>
      <li><a href="index.html#work">WORK</a></li>
      <li><a href="index.html#osiris">RESEARCH</a></li>
      <li><a href="index.html#experience">HISTORY</a></li>
      <li><a href="projects.html">PROJECTS</a></li>
      <li><a href="games.html" style="color:var(--accent)">GAMES</a></li>
      <li><a href="index.html#contact">CONTACT</a></li>
    </ul>
    <button class="hamburger" id="hamburger" aria-label="Menu">
      <span></span><span></span>
    </button>
  </nav>

  <div class="mob-menu" id="mobMenu">
    <a href="index.html#about"    class="mob-item">ABOUT</a>
    <a href="index.html#work"     class="mob-item">WORK</a>
    <a href="index.html#osiris"   class="mob-item">RESEARCH</a>
    <a href="index.html#experience" class="mob-item">HISTORY</a>
    <a href="projects.html"       class="mob-item">PROJECTS</a>
    <a href="games.html"          class="mob-item">GAMES</a>
    <a href="index.html#contact"  class="mob-item">CONTACT</a>
  </div>

  <div class="page-hero" style="background:var(--bg);">
    <div class="page-hero-inner">
      <span class="page-hero-eye">ARCADE</span>
      <h1 class="page-hero-title">Play a <em>game.</em></h1>
      <p class="page-hero-sub">Built with pure HTML5 Canvas. No frameworks. Just like the good old days — except everything is green and vaguely threatening.</p>
    </div>
  </div>

  <section class="section" style="background:var(--bg);">
    <div class="container">
      <div class="games-grid">

        <!-- ── GAME 1: PACKET SNAKE ─────────────────── -->
        <div class="game-card neu-card">
          <div class="game-card-header">
            <span class="game-card-title">PACKET_SNAKE</span>
            <span class="game-card-badge">ARROW KEYS / WASD</span>
          </div>
          <p class="game-desc">Eat the network packets before they timeout. Each packet consumed increases your length and score. Don't run into the walls or yourself.</p>
          <div class="game-canvas-wrap">
            <canvas id="snakeCanvas" width="400" height="400"></canvas>
          </div>
          <div class="game-ui">
            <span>SCORE: <span class="game-score" id="snakeScore">0</span></span>
            <span>HI: <span class="game-score" id="snakeHi">0</span></span>
            <button class="game-btn" id="snakeBtn">START</button>
          </div>
          <!-- Mobile D-pad -->
          <div class="dpad" id="dpad" style="justify-self:center;">
            <div></div>
            <div class="dpad-btn" id="dUp">↑</div>
            <div></div>
            <div class="dpad-btn" id="dLeft">←</div>
            <div class="dpad-btn dpad-center" id="dCenter" style="font-size:0.6rem;letter-spacing:0.08em;">OK</div>
            <div class="dpad-btn" id="dRight">→</div>
            <div></div>
            <div class="dpad-btn" id="dDown">↓</div>
            <div></div>
          </div>
        </div>

        <!-- ── GAME 2: HEX BREACH ─────────────────── -->
        <div class="game-card neu-card">
          <div class="game-card-header">
            <span class="game-card-title">HEX_BREACH</span>
            <span class="game-card-badge">TYPE TO NEUTRALIZE</span>
          </div>
          <p class="game-desc">Malicious hex payloads are raining down. Type them exactly to neutralize each one before it reaches the kernel. You have 3 lives.</p>
          <div class="game-canvas-wrap">
            <canvas id="hexCanvas" width="400" height="340"></canvas>
          </div>
          <div class="game-ui">
            <div class="game-lives" id="hexLives">
              <div class="game-life" id="life1"></div>
              <div class="game-life" id="life2"></div>
              <div class="game-life" id="life3"></div>
            </div>
            <span>SCORE: <span class="game-score" id="hexScore">0</span></span>
            <button class="game-btn" id="hexBtn">START</button>
          </div>
          <div class="game-input-row">
            <input type="text" id="hexInput" placeholder="Type the falling code..." autocomplete="off" spellcheck="false" />
          </div>
        </div>

      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="footer-inner">
        <span class="footer-logo">LKP.</span>
        <span class="footer-copy">© 2025 Love Kush Pranu — Cybersecurity Engineer · NYU Tandon '26 · OSIRIS Lab</span>
        <div class="footer-socials">
          <a href="https://github.com/lutherleo" target="_blank">GH</a>
          <a href="https://www.linkedin.com/in/lovekush-pranu" target="_blank">LI</a>
          <a href="interviews.html">INTERVIEWS</a>
          <a href="hobbies.html">HOBBIES</a>
        </div>
      </div>
    </div>
  </footer>

<script>
/* ── SHARED CURSOR ───────────────────────────────── */
const cursor = document.getElementById('cursor');
const cursorRing = document.getElementById('cursorRing');
let mx=0,my=0,rx=0,ry=0;
document.addEventListener('mousemove',e=>{mx=e.clientX;my=e.clientY;cursor.style.left=mx+'px';cursor.style.top=my+'px';});
(function lr(){rx+=(mx-rx)*0.1;ry+=(my-ry)*0.1;cursorRing.style.left=rx+'px';cursorRing.style.top=ry+'px';requestAnimationFrame(lr);})();
document.querySelectorAll('a,button,input').forEach(el=>{el.addEventListener('mouseenter',()=>{cursor.classList.add('big');cursorRing.classList.add('big');});el.addEventListener('mouseleave',()=>{cursor.classList.remove('big');cursorRing.classList.remove('big');});});
document.body.classList.add('loaded');

/* ── HAMBURGER ───────────────────────────────────── */
const hamburger = document.getElementById('hamburger');
const mobMenu = document.getElementById('mobMenu');
hamburger.addEventListener('click',()=>{hamburger.classList.toggle('open');mobMenu.classList.toggle('open');document.body.style.overflow=mobMenu.classList.contains('open')?'hidden':'';});
document.querySelectorAll('.mob-item').forEach(a=>a.addEventListener('click',()=>{hamburger.classList.remove('open');mobMenu.classList.remove('open');document.body.style.overflow='';}));

/* ════════════════════════════════════════════════════
   GAME 1 — PACKET SNAKE
════════════════════════════════════════════════════ */
(function() {
  const canvas = document.getElementById('snakeCanvas');
  const ctx    = canvas.getContext('2d');
  const COLS=20, ROWS=20, CELL=20;
  const scoreEl = document.getElementById('snakeScore');
  const hiEl    = document.getElementById('snakeHi');
  const btn     = document.getElementById('snakeBtn');

  const FOODS = ['0xDE','0xAD','0xBE','0xEF','0xFF','0x00','SYN','ACK','RST','PKT','UDP','TCP','DNS','ARP','HEX','OVF'];
  const GREEN = '#22c55e', DIM = '#0d130d', GRID_C = 'rgba(34,197,94,0.05)';

  let snake, dir, nextDir, food, foodLabel, score, hi, speed, loop, state;

  function init() {
    snake   = [{x:10,y:10},{x:9,y:10},{x:8,y:10}];
    dir     = {x:1,y:0};
    nextDir = {x:1,y:0};
    score   = 0;
    speed   = 140;
    hi      = parseInt(localStorage.getItem('snakeHS')||0);
    hiEl.textContent = hi;
    state   = 'playing';
    spawnFood();
    clearInterval(loop);
    loop = setInterval(tick, speed);
  }

  function spawnFood() {
    let pos;
    do { pos={x:Math.floor(Math.random()*COLS),y:Math.floor(Math.random()*ROWS)}; }
    while (snake.some(s=>s.x===pos.x&&s.y===pos.y));
    food = pos;
    foodLabel = FOODS[Math.floor(Math.random()*FOODS.length)];
  }

  function tick() {
    dir = nextDir;
    const head = {x:snake[0].x+dir.x, y:snake[0].y+dir.y};
    if (head.x<0||head.x>=COLS||head.y<0||head.y>=ROWS||snake.some(s=>s.x===head.x&&s.y===head.y)) {
      return gameOver();
    }
    snake.unshift(head);
    if (head.x===food.x&&head.y===food.y) {
      score++;
      scoreEl.textContent = score;
      if (score > hi) { hi = score; hiEl.textContent = hi; localStorage.setItem('snakeHS',hi); }
      spawnFood();
      if (score % 5 === 0) { clearInterval(loop); speed = Math.max(60, speed-10); loop = setInterval(tick, speed); }
    } else {
      snake.pop();
    }
    draw();
  }

  function draw() {
    ctx.fillStyle = DIM;
    ctx.fillRect(0,0,canvas.width,canvas.height);
    // grid
    ctx.strokeStyle = GRID_C;
    ctx.lineWidth = 0.5;
    for(let c=0;c<COLS;c++){ctx.beginPath();ctx.moveTo(c*CELL,0);ctx.lineTo(c*CELL,canvas.height);ctx.stroke();}
    for(let r=0;r<ROWS;r++){ctx.beginPath();ctx.moveTo(0,r*CELL);ctx.lineTo(canvas.width,r*CELL);ctx.stroke();}
    // snake
    snake.forEach((s,i)=>{
      const alpha = 1 - i/snake.length*0.6;
      ctx.fillStyle = i===0 ? GREEN : `rgba(34,197,94,${alpha})`;
      ctx.shadowBlur = i===0 ? 12 : 0;
      ctx.shadowColor = GREEN;
      ctx.fillRect(s.x*CELL+1,s.y*CELL+1,CELL-2,CELL-2);
      ctx.shadowBlur = 0;
    });
    // food
    ctx.fillStyle = '#0a0f0a';
    ctx.strokeStyle = GREEN;
    ctx.lineWidth = 1.5;
    ctx.shadowBlur = 16; ctx.shadowColor = GREEN;
    ctx.fillRect(food.x*CELL+2,food.y*CELL+2,CELL-4,CELL-4);
    ctx.strokeRect(food.x*CELL+2,food.y*CELL+2,CELL-4,CELL-4);
    ctx.shadowBlur = 0;
    ctx.fillStyle = GREEN;
    ctx.font = '5px "JetBrains Mono"';
    ctx.textAlign = 'center';
    ctx.fillText(foodLabel, food.x*CELL+CELL/2, food.y*CELL+CELL/2+2);
  }

  function drawIdle(msg) {
    ctx.fillStyle = DIM;
    ctx.fillRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = GREEN;
    ctx.shadowBlur = 20; ctx.shadowColor = GREEN;
    ctx.font = 'bold 18px "JetBrains Mono"';
    ctx.textAlign = 'center';
    ctx.fillText(msg, canvas.width/2, canvas.height/2 - 10);
    ctx.shadowBlur = 0;
    ctx.fillStyle = 'rgba(34,197,94,0.5)';
    ctx.font = '11px "JetBrains Mono"';
    ctx.fillText('PRESS START', canvas.width/2, canvas.height/2+16);
    if (score > 0) {
      ctx.fillStyle='rgba(34,197,94,0.35)';
      ctx.font='10px "JetBrains Mono"';
      ctx.fillText(`SCORE: ${score}`, canvas.width/2, canvas.height/2+36);
    }
  }

  function gameOver() {
    clearInterval(loop);
    state = 'dead';
    btn.textContent = 'RESTART';
    drawIdle('GAME OVER');
  }

  // Key controls
  document.addEventListener('keydown', e => {
    if (['ArrowUp','ArrowDown','ArrowLeft','ArrowRight','w','a','s','d'].includes(e.key)) e.preventDefault();
    if (state !== 'playing') return;
    const map = {ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0},
                  w:{x:0,y:-1},s:{x:0,y:1},a:{x:-1,y:0},d:{x:1,y:0}};
    const nd = map[e.key];
    if (nd && !(nd.x===-dir.x && nd.y===-dir.y)) nextDir = nd;
  });

  // D-pad
  function dDir(nd) { if(state==='playing'&&!(nd.x===-dir.x&&nd.y===-dir.y)) nextDir=nd; }
  document.getElementById('dUp').addEventListener('click',    ()=>dDir({x:0,y:-1}));
  document.getElementById('dDown').addEventListener('click',  ()=>dDir({x:0,y:1}));
  document.getElementById('dLeft').addEventListener('click',  ()=>dDir({x:-1,y:0}));
  document.getElementById('dRight').addEventListener('click', ()=>dDir({x:1,y:0}));
  document.getElementById('dCenter').addEventListener('click',()=>{ if(state!=='playing') btn.click(); });

  // Touch swipe
  let touchX=0,touchY=0;
  canvas.addEventListener('touchstart',e=>{touchX=e.touches[0].clientX;touchY=e.touches[0].clientY;e.preventDefault();},{passive:false});
  canvas.addEventListener('touchend',e=>{
    const dx=e.changedTouches[0].clientX-touchX, dy=e.changedTouches[0].clientY-touchY;
    if(Math.abs(dx)>Math.abs(dy)) dDir(dx>0?{x:1,y:0}:{x:-1,y:0});
    else dDir(dy>0?{x:0,y:1}:{x:0,y:-1});
    e.preventDefault();
  },{passive:false});

  btn.addEventListener('click', ()=>{ btn.textContent='RESTART'; init(); });
  drawIdle('PACKET_SNAKE');
})();

/* ════════════════════════════════════════════════════
   GAME 2 — HEX BREACH
════════════════════════════════════════════════════ */
(function() {
  const canvas = document.getElementById('hexCanvas');
  const ctx    = canvas.getContext('2d');
  const scoreEl= document.getElementById('hexScore');
  const livesEls= [document.getElementById('life1'),document.getElementById('life2'),document.getElementById('life3')];
  const btn    = document.getElementById('hexBtn');
  const input  = document.getElementById('hexInput');

  const W = canvas.width, H = canvas.height;
  const WORDS = [
    '0xDEAD','0xBEEF','0xFF00','0x1337','KERNEL','EXPLOIT','SYSCALL',
    'MALLOC','BUFFER','OVERFLOW','SHELLCODE','PAYLOAD','ROP_CHAIN','NOP_SLED',
    'HEAP','STACK','EBP','ESP','EIP','RAX','RBX','RDX','XOR','AND','OR',
    'SIGTERM','SIGKILL','FORK','EXEC','MMAP','PTRACE','SECCOMP','ASLR'
  ];
  const GREEN='#22c55e', RED='#f87171', DIM='#0a0f0a';

  let falling, lives, score, speed, spawnRate, loop, spawnLoop, state, flash;

  function init() {
    falling   = [];
    lives     = 3;
    score     = 0;
    speed     = 0.5;
    spawnRate = 2200;
    state     = 'playing';
    flash     = null;
    scoreEl.textContent = 0;
    livesEls.forEach(l=>l.classList.remove('dead'));
    clearInterval(loop);
    clearInterval(spawnLoop);
    loop      = setInterval(()=>{tick();draw();}, 40);
    spawnLoop = setInterval(spawnWord, spawnRate);
    input.value = '';
    input.focus();
    spawnWord();
  }

  function spawnWord() {
    if(state!=='playing') return;
    const w = WORDS[Math.floor(Math.random()*WORDS.length)];
    const x = 20 + Math.random()*(W-160);
    falling.push({word:w, x, y:-20, speed: speed + Math.random()*0.3, hit:false, flashTime:0});
  }

  function tick() {
    falling.forEach(f=>{
      if(!f.hit) f.y += f.speed;
    });
    // check missed
    falling.filter(f=>!f.hit&&f.y>H+20).forEach(()=>{
      lives--;
      if(lives<0)lives=0;
      livesEls[lives] && livesEls[lives].classList.add('dead');
      if(lives===0) gameOver();
    });
    falling = falling.filter(f=>!(f.y>H+20&&!f.hit)&&!(f.hit&&f.flashTime<=0));
    falling.forEach(f=>{ if(f.hit) f.flashTime-=40; });
  }

  function draw() {
    ctx.fillStyle = DIM;
    ctx.fillRect(0,0,W,H);

    // scanlines
    for(let y=0;y<H;y+=4){
      ctx.fillStyle='rgba(0,0,0,0.15)';
      ctx.fillRect(0,y,W,2);
    }

    // bottom "kernel" zone
    ctx.fillStyle='rgba(248,113,113,0.06)';
    ctx.fillRect(0,H-24,W,24);
    ctx.strokeStyle='rgba(248,113,113,0.3)';
    ctx.lineWidth=1;
    ctx.beginPath();ctx.moveTo(0,H-24);ctx.lineTo(W,H-24);ctx.stroke();
    ctx.fillStyle='rgba(248,113,113,0.4)';
    ctx.font='8px "JetBrains Mono"';
    ctx.textAlign='left';
    ctx.fillText('KERNEL SPACE — DO NOT LET PAYLOADS REACH HERE',8,H-8);

    // falling words
    falling.forEach(f=>{
      const t = f.hit ? f.flashTime/300 : 1;
      if(f.hit){
        ctx.fillStyle=`rgba(34,197,94,${t*0.9})`;
        ctx.shadowBlur=20*t; ctx.shadowColor=GREEN;
      } else {
        const danger = Math.min(1,(f.y/(H-24)));
        const r=Math.floor(34+(248-34)*danger), g=Math.floor(197+(113-197)*danger), b=Math.floor(94*(1-danger));
        ctx.fillStyle=`rgb(${r},${g},${b})`;
        ctx.shadowBlur=8; ctx.shadowColor=`rgb(${r},${g},${b})`;
      }
      ctx.font=`bold 13px "JetBrains Mono"`;
      ctx.textAlign='left';
      ctx.fillText(f.word, f.x, f.y);
      ctx.shadowBlur=0;
    });

    // current typed text hint
    const typed = input.value.toUpperCase();
    if(typed && state==='playing'){
      ctx.fillStyle='rgba(34,197,94,0.25)';
      ctx.font='13px "JetBrains Mono"';
      ctx.textAlign='center';
      ctx.fillText('> '+typed, W/2, H-36);
    }
  }

  function checkInput() {
    if(state!=='playing') return;
    const typed = input.value.trim().toUpperCase();
    const hit = falling.find(f=>!f.hit && f.word.toUpperCase()===typed);
    if(hit){
      hit.hit=true; hit.flashTime=300;
      score++;
      scoreEl.textContent=score;
      input.value='';
      // ramp difficulty
      if(score%5===0){
        speed=Math.min(2.5,speed+0.15);
        spawnRate=Math.max(800,spawnRate-150);
        clearInterval(spawnLoop);
        spawnLoop=setInterval(spawnWord,spawnRate);
      }
    }
  }

  function gameOver() {
    state='dead';
    clearInterval(loop);
    clearInterval(spawnLoop);
    btn.textContent='RESTART';
    ctx.fillStyle=DIM; ctx.fillRect(0,0,W,H);
    ctx.fillStyle=RED; ctx.shadowBlur=20; ctx.shadowColor=RED;
    ctx.font='bold 20px "JetBrains Mono"';
    ctx.textAlign='center';
    ctx.fillText('KERNEL BREACHED',W/2,H/2-20);
    ctx.shadowBlur=0;
    ctx.fillStyle='rgba(248,113,113,0.5)';
    ctx.font='12px "JetBrains Mono"';
    ctx.fillText(`PAYLOADS NEUTRALIZED: ${score}`, W/2, H/2+10);
    ctx.fillStyle='rgba(34,197,94,0.4)';
    ctx.fillText('PRESS RESTART',W/2,H/2+35);
  }

  function drawIdle(msg) {
    ctx.fillStyle=DIM; ctx.fillRect(0,0,W,H);
    ctx.fillStyle=GREEN; ctx.shadowBlur=20; ctx.shadowColor=GREEN;
    ctx.font='bold 18px "JetBrains Mono"'; ctx.textAlign='center';
    ctx.fillText(msg,W/2,H/2-10);
    ctx.shadowBlur=0;
    ctx.fillStyle='rgba(34,197,94,0.5)';
    ctx.font='11px "JetBrains Mono"';
    ctx.fillText('PRESS START · TYPE CODES TO NEUTRALIZE',W/2,H/2+16);
  }

  input.addEventListener('input', checkInput);
  btn.addEventListener('click',()=>{ btn.textContent='RESTART'; init(); });
  drawIdle('HEX_BREACH');
})();
</script>
</body>
</html>
